import './globals.css';
import { twMerge } from 'tailwind-merge';
import { Montserrat, Inter } from 'next/font/google';
import type { Metadata } from 'next';
import { TRPCProvider } from '@/trpc/client';
import { PokemonStoreProvider } from '@/providers/pokemon-store-provider';

import Image from 'next/image';
import { Button } from '@/components/ui/button';
import Sidebar from '@/components/Sidebar';
import SearchBar from '@/components/SearchBar';
import { cn } from '@/lib/utils';
import { Suspense } from 'react';

export const metadata: Metadata = {
  title: 'Pokedex - Home Page',
  description: 'Generated by create next app',
};

const montserrat = Montserrat({
  subsets: ['latin'],
  variable: '--font-montserrat',
});

const inter = Inter({
  subsets: ['latin'],
  variable: '--font-inter',
});

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <PokemonStoreProvider>
        <TRPCProvider>
          <body
            className={cn('antialiased', montserrat.variable, inter.variable)}
          >
            <header
              className={twMerge(
                montserrat.className,
                `relative w-full bg-radial from-[#AB0001] from-0% to-[#AB0001]
                to-100%`,
              )}
            >
              <div
                className="z-10 mx-auto flex h-screen max-h-[720px] max-w-7xl
                  flex-col items-center justify-start
                  bg-[url('/bg-red-pattern-mobile.png')]
                  md:bg-[url('/red-bg-pattern.png')] bg-auto md:bg-bottom
                  bg-no-repeat md:max-h-[700px] md:bg-contain p-4"
              >
                <div className="block h-[112px] w-full">
                  <Image
                    alt="Pokemon Logo"
                    src="/logo.svg"
                    width={159}
                    height={58}
                  />
                </div>

                <div className="flex flex-col items-center">
                  <Button
                    variant="secondary"
                    className="hover:bg-secondary rounded-full text-sm
                      font-semibold text-blue-500"
                  >
                    <div className="rounded-full bg-blue-200 p-0.5">
                      <Image
                        src="/pokedex-bag.png"
                        alt="Pokédex Bag"
                        width={16}
                        height={16}
                      />
                    </div>
                    Pokédex
                  </Button>
                  <h2
                    className="text-center text-[48px] font-bold text-white
                      md:text-[6.4rem]"
                  >
                    Who&apos;s that Pokémon?
                  </h2>
                  <p
                    className="p-5 text-center text-base font-medium text-white
                      md:text-lg"
                  >
                    The perfect guide for those who want to hunt Pokémon around
                    the world.
                  </p>
                </div>

                <Image
                  className="md:absolute md:flex -bottom-[120px] h-auto w-fit
                    md:-bottom-[248px] hidden"
                  src="/red-pokeball.png"
                  alt="Red Pokeball"
                  width={800}
                  height={600}
                />
                <Image
                  className="absolute -bottom-[200px] md:-bottom-[248px] h-auto
                    w-full max-w-[360px] md:hidden"
                  src="/red-pokeball-mobile.png"
                  alt="Red Pokeball"
                  width={375}
                  height={498}
                />
              </div>
            </header>
            <Suspense>
              <SearchBar />
            </Suspense>
            <div
              className={twMerge(
                inter.className,
                `mx-auto grid max-w-7xl grid-cols-1 items-start justify-start
                gap-10 pt-10 md:grid-cols-[240px_2fr]`,
              )}
            >
              <Suspense>
                <Sidebar className="hidden md:flex" />
              </Suspense>
              <div>{children}</div>
            </div>
            <footer className="min-h-[200px]" />
          </body>
        </TRPCProvider>
      </PokemonStoreProvider>
    </html>
  );
}
